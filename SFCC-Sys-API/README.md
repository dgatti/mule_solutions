# Mule API Template

Use this template as startpoint for any Mule project (Not only APIs projects)

1. At Anypoint Studio New > Project from Template > Select from Exchange (You must be logged in)
2. Rename Project and artifact in pom.xml
3. For APIs projects you will need an API specification published on Exchange
   1. Right click in Project > Manage Dependencies > Manage APIs > Search your API Spec in Exchange and apply (Select 'yes' in the pop-up to apply scaffolding)
   2. A set of listeners, flows and configurations should be generated at a Mule XML configuration file called `<your-spec-root-file-name>.xml`  remove the http:listener-config and to use the one included in the template globa.xml file
   3. In the autogenerated XML Mule configuration file remove all the on-error-propagate at the main flow. Then modify the error handler to reference the common error handler included in the template `<error-handler ref="Common_Apikit_HTTP_Error_Handler">`
   4. In global.xml validate that api-gateway:autodiscovery flowRef is pointing to the autogenerated main flow that has the Apikit Router component.
   5. Implement your API.

Note: healthcheck.xml Mule Configuration file contains an example logic for implementing the healthcheck endpoint. This logic should be moved to the scaffolded health endpoint in order to make it work with APIKit.